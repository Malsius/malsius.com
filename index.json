[{"content":"Hack The Box Create an App Token on your HTB Account Settings page\nNotion Database Duplicate the template in your workspace :\nhttps://malsius.notion.site/malsius/291c7811de294f52943c98c755209595?v=e33b1ccbf7d54b6ba3ac33fc879165d9\nYour Notion DB ID will then be as follows\nIntegration Go to your integrations in Notion and create a new one\nThen show you API key and copy it\nLink database and integration On your database, add a new connection for your integration\nSimple usage ./htb-notion.py --htb-token HTB_APP_TOKEN --notion-token NOTION_API_KEY --notion-db NOTION_DB_ID [--debug] GitHub Actions Duplicate the project On the project page, you can duplicate it as follows\nAdd GitHub Actions secrets Add these 3 secrets in your GitHub settings :\nHTB_APP_TOKEN\nNOTION_API_KEY\nNOTION_DB_ID\nRun the workflow ","permalink":"https://malsius.com/htb-notion/","summary":"Step-by-step guide to import HTB Machines to Notion","title":"Import HTB Machines to Notion"},{"content":"Subject At nightfall, everything lights up. A beacon emits a signal in order to be recovered. The signal is transmitted at 3.58 MHz every minute for about 30 seconds. Find the message transmitted. The flag is of the form HACKDAY{\u0026hellip;}\nFind the transmitted signal According to the subject, the signal is only transmitted in the evening.\nBy going to WebSDR F5NKP (for example) we will be able to listen to the different signals transmitted on the radio waves.\nWe must then go to the good frequency, at 3.58 MHz (3580 kHz).\nAfter having tested the different modes, CW seems to be the most conclusive.\nIndeed, it is on this one that we can hear a signal emitted every minute for about 30s quite distinctly.\nWe could think at first that it looks like morse code.\nWe can notice that a similar signal is also emitted 400 Hz further.\nDecode the signal For the rest of the analysis, I recorded the two signals to be able to analyze them locally.\nAfter many hours without finding anything, I decided to take a first hint (these cost points and are included in each challenge).\nHint : FSK\nThanks to this one I could understand that it was about signal modulation.\nWikipedia definition:\nFrequency shift keying (FSK) is a digital frequency modulation mode in which the frequency of the modulated signal varies between predetermined frequencies.\nTo make simple, this modulation makes it possible to retranscribe a binary message in the form of signal, in which the 2 predefined frequencies represent the 0 and the 1.\nThis is visible in the Audacity frequency analyzer with two frequency peaks, one at 470 Hz and the other at 870 Hz. This is the same as the 400 Hz spacing between the two transmitted signals seen above.\nOnce you zoom in on the signal, you can see the 0 and 1 that \u0026ldquo;appear\u0026rdquo;.\nTo decode the whole we can have 2 approaches:\nmanual\nautomated\nAs I didn\u0026rsquo;t find anything conclusive to automate my task, I decided to do it manually.\nThanks to the first \u0026ldquo;bits\u0026rdquo; of the signal (the padding), we can settle on the fact that a bit measures about 2 cm (yes it is quite archaic as a method).\nI was then helped by a member of my team who noted the bits while I \u0026ldquo;read\u0026rdquo; them on Audacity.\nHalfway through (more precisely, at what looked like the padding at the beginning), I started trying to convert the result from binary to ASCII, which was inconclusive.\nSo I tried to search for \u0026ldquo;HACKDAY{}\u0026rdquo;, character by character, in all this sequence of 0 and 1, which allowed me to realize that each of them was preceded by a bit and succeeded by 3 bits.\nThese turned out to be the UART bits.\nBy identifying the characters one by one, and skipping the ones that were badly decoded, I was able to find the flag and solve the challenge.\nThank you Quentin CHAUVIN for this challenge and for your advice.\n","permalink":"https://malsius.com/hackday-2022-websdr/","summary":"Subject At nightfall, everything lights up. A beacon emits a signal in order to be recovered. The signal is transmitted at 3.58 MHz every minute for about 30 seconds. Find the message transmitted. The flag is of the form HACKDAY{\u0026hellip;}\nFind the transmitted signal According to the subject, the signal is only transmitted in the evening.\nBy going to WebSDR F5NKP (for example) we will be able to listen to the different signals transmitted on the radio waves.","title":"HackDay 2022 - WebSDR"},{"content":"Subject Flag is typed !\nChallenge analysis The file provided with this challenge is a packet capture file (.pcap).\nSo we open it with Wireshark.\nWe can see that the captured packets’s protocol is USB.\nFrom the title and the subject of the challenge, and the fact that we have to find a flag, we can assume that this capture is from a QWERTY keyboard.\nFirst we have to extract the captured data to be able to process them in an automated way.\nFor this we can use tshark:\ntshark -r qwerty.pcap -T fields -e usb.capdata \u0026gt; qwerty.data\nWith this documentation we can see that keyboard captures are encoded on 8 bytes as follows:\nThe first byte is encoded as follows:\nIf the SHIFT key (left or right) is pressed, the first byte will be set to 0x02 or 0x20.\nThe second byte is always set to 0x00.\nFor the correspondence of the pressed keys (next 6 bytes), you can refer to the HID usage table.\nIt should be taken into account that CAPS LOCK only has an effect on letters, and that if it is activated and the SHIFT key is pressed, the letters will be in lower case again.\nDecoding data To automate the data decoding, you can find at here a script made for the occasion in Python.\nOnce the script is executed we can see the flag !\n","permalink":"https://malsius.com/hackday-2022-qwerty/","summary":"Subject Flag is typed !\nChallenge analysis The file provided with this challenge is a packet capture file (.pcap).\nSo we open it with Wireshark.\nWe can see that the captured packets’s protocol is USB.\nFrom the title and the subject of the challenge, and the fact that we have to find a flag, we can assume that this capture is from a QWERTY keyboard.\nFirst we have to extract the captured data to be able to process them in an automated way.","title":"HackDay 2022 - QWERTY"}]